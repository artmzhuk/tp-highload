# Расчётно-пояснительная записка
## Тема и целевая аудитория
Для курсовой работы я выбрал сервис бронирования жилья Booking.com. Он соответсвует требованиям, предъявляемым для курсовой работы:
- **Имеет реальные аналоги:** на глобальном рынке это Airbnb, agoda, на рынке СНГ это ostrovok.ru
- **Аудитория сервиса:** ежемесячная аудитория превышает 500 миллионов
  
| Регион                 | Количество пользователей |
|------------------------|--------------------------|
| **Северная Америка**   | 110 млн                  |
| **Евросоюз**           | 100 млн                  |
| **СНГ**                | 20 млн                   |
| **Всего по миру**      | 650 млн                  |

Источники: [SimilarWeb](https://www.similarweb.com/website/booking.com/), [BusinessOfApps](https://www.businessofapps.com/data/booking-statistics/).


## Функционал
1. **Бронирование жилья**
2. **Бронирование авиабилетов**
3. **Аренда автомобилей**
4. **Продажа экскурсий и билетов на достопримечательности**

## MVP
На мой взгляд, MVP этого сервиса -- **бронирования жилья**:
### Функционал MVP
1. **поиск жилья для заданной локации**
2. **просмотр страницы конкретного отеля/апартаментов**
3. **фильтр по поиску**
4. **список избранного**
5. **список отзывов, рейтинг жилья**
6. **сообщение хозяину жилья**
7. **панель управления своими бронированиями**
8. **панель для владельцев объектов размещения**
### Ключевые функциональные решения
 - удобный поиск с большим количеством фильтров
 - система отзывов
 - наличие объектов размещения в большинстве стран мира
## Продуктовые метрики
1. **Месячная аудитория (MAU)**: В 2024 году ежемесячное количество уникальных пользователей составляет ~300 миллионов
2. **Дневная аудитория (DAU)** Ежедневная аудитория составляет ~20% от MAU -- 60 миллионов пользователей
3. **Средний размер хранилища пользователя** В хранилище пользователя хранятся только личные данные, список избранного и информация о бронированиях (~500кб). У пользователя в среднем 2-3 бронирования, информация о каждом из них занимает 100кб.  У некоторых пользователей есть аватарка(1-2мб), так что средний объём хранилища составляет ~1.7 мб. Также хранятся данные о ~27 миллионах объектов размещения. Для каждого объекта хранятся текстовые данные (адрес, владелец, телефон и т.д) -- ~500кб. А также по 30-40 фотографий, каждая по 100кб. 
4. **Среднее количество действий пользователя в день** В среднем пользователь ищет жилье по 2-3 запросам, сохраняет 1-2 жилья в избранное и делает бронирование. В сумме выходит 5-6 действий в день

| Метрика                             | Значение                   |
|-------------------------------------|----------------------------|
| Месячная аудитория (MAU)            | 300 млн                    |
| Дневная аудитория (DAU)             | 60 млн                     |
| Средний размер хранилища на юзера   | 1.7 MB                     |
| Среднее количество действий в день  | 5-6 действий               |

## Технические метрики
1. **Размер хранения по типам данных**:
   - Данные всех пользователей занимают 650kk * 1.7мб = 1100тб.
   - Данные всех объектов недвижимости занимают 27кк * (500кб + (40 * 100кб)) = 121.5тб
2. **Сетевой трафик**:
   - **Пиковое потребление**: пиковая скорость может достигать 600гбит/c.
      В среднем пользователь за сессию получает 70-80мб данных от сервера(замер через devtools).\
     (70мб * 30кк)/24/60/60/8=195гбит/c.\
     Из лекции следует что пиковое потребление x2.5-3 от среднего. 195*3=~600гбит/c 
   - **Суммарный суточный трафик**: составляет порядка 2 петабайт в сутки.
3. **RPS (requests per second)**: через devtools установлено, что в среднем в секунду от одного пользователя на сервер отпралвяется 10 запросов. Значит от всех пользователей поступает 3-5 тысяч запросов в секунду, в пиковое время до 20 тысяч.

| Метрика                     | Среднее значение   | Пиковое значение   |
|-----------------------------|--------------------|--------------------|
| Размер хранения (всего)     | 1.5 ПБ             | —                  |
| Сетевой трафик (в сутки)    | ~2 ПБ              | -                  |
| Сетевой трафик (в секунду)  | 200гбит/c          | 600гбит/c          |
| RPS по запросам             | 3-5к               | ~20к               |

